DOCKER COMPOSE YAML FILE

- the compose file is made up of the following sections
    - version: '3.1' 
        # if a version number is left out, version 1 is used ad defaults
    
    - services:
        # this will have all the containers listed with all their configs
        
        - nginx1:
            # this will be the friendly name of the first container
        
            - image: [option]
                # this is the image that nginx1 will be created from
            
            - command: [option]
                # 'OPTIONAL' this will replace the default commands in the image
                
            - environment: [option]
                # 'OPTIONAL' same as the "-e" switch used in the docker run commands
                used to set environment variable for the container

            - volumes: [/nginx1/var/logs/nginx/:/var/logs/nginx/]
                # 'OPTIONAL' this is used to create map a location on the host to a volume on the container

                # a named volume can be used insteat with the following syntax
                - volumes: nginx1_logs:/var/logs/nginx/
                    # this creates a named volume for nginx1 that will be managed by docker
                    
        - nginx2:
            - image: [option]
            - command: [option]
            -environment: [option]
            - volumes: [option]
                # this will be the comfigs for the second nginx service that this docker-compose file will bring up
                
    - volumes:
        # this will have a list of all the named volumes that were config'ed in the containers/services listed above
        
    - network:
        # this is used to create a custom network for all the containers listed above
        
    
                     

DOCKER VOLUMES EXPLAINED

- when you use the volume parameter in creating a container, that
  volume is mapped to the default place where docker stores all its
  volumes

- that default location is
    - /var/lib/docker/volumes/
  
- if you map a volume to the container using the dockerfiles without
  giving it a custom name, it will give it a name that contains
  alphanumeric charactors

- if you give it a custom name that default alphanumeric name will be
  replaced, which makes it alot easier identifying volumes in the
  default location on the host or when using the docker volume ls
  command

- content in that volume can be accessed from the host from the cli
  or a file explorer

- to see the content of a volume named nginx1_conf that is mapped to
  the nginx1 container, from the host navigate to:
    - /var/lib/docker/volumes/nginx_conf/_data

- volumes are great for production containers where the volumes that
  the containers need to do their work is located in the default
  docker location for volumes

- if the container is still in a dev phase and files/directories
  needed for the container(s) to work are located in many different
  location on the host, then "bind-mounts" are a better options

    - this is because you can leave the needed data where it's at on
      the host or dev laptop and point the container's volume to that
      location on the host

    - this allows you to modify the data from the host and have it
      reflected on the container

    - this can also be done with volumes but if you have needed data
      in 5 different location on the host, you will have to copy
      these data to the default location for volume storage by docker
      and interact with them from there if you want to make changes
      that you want reflected on the containers



DOCKER BIND-MOUNTS EXPLAINED

- volumes and bind-mounts accomplishes the same thing; allowing for
  persistent data when the container is stopped or removed

- unlike volumes, you can specify the location on the host where you
  would like to map the volume of the container

- this is great if you have needed data for the container in multiple
  locations on the host, this prevents you from copying these data
  located at different locations to the default location for volume
  storage by docker


RULE OF THUMB FOR USING VOLUMES OR BIND-MOUNTS

VOLUMES
- used when the containers are in production
- volumes on the container will be mapped to a constant and known
  location on the host


BIND-MOUNTS
- used when the container is still in dev stage
- data needed by the container might be i different locations on the
  host; because of this it is much easier map the container volumes
  to the different locations on the host and don't have to worry
  about copying it to the default storage location for volume by
  docker
  
